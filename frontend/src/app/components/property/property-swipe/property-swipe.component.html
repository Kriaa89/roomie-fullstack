<div class="swipe-container">
  <div class="swipe-header">
    <h2>Find Your Perfect Property</h2>
    <p>Swipe right if you're interested, left if you're not</p>
  </div>

  <div *ngIf="loading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>Loading properties...</p>
  </div>

  <div *ngIf="error && !loading" class="error-message">
    <p>{{ error }}</p>
    <button *ngIf="noMoreProperties" (click)="refreshProperties()">
      Refresh Properties
    </button>
  </div>

  <!-- Match notification -->
  <div *ngIf="matchFound && matchDetails" class="match-notification">
    <div class="match-content">
      <div class="match-icon">
        <i class="fa fa-check-circle"></i>
      </div>
      <h3>It's a Match!</h3>
      <p>You and {{ matchDetails.user1?.firstName || matchDetails.user2?.firstName || 'the property owner' }} have liked each other</p>
      <div class="match-actions">
        <button class="match-btn" (click)="viewPropertyDetails()">View Property</button>
        <button class="match-btn" (click)="moveToNextProperty()">Continue Swiping</button>
      </div>
    </div>
  </div>

  <div *ngIf="!loading && !error && currentProperty" class="property-card-container">
    <div class="property-card" [ngClass]="swipeAnimation">
      <div class="property-image">
        <img [src]="currentProperty.imageUrl || 'assets/images/property-placeholder.jpg'" alt="Property Image">
      </div>
      <div class="property-info">
        <h3>{{ currentProperty.title }}</h3>
        <p class="property-price">${{ currentProperty.price }} / month</p>
        <p class="property-location">
          <i class="fa fa-map-marker"></i> {{ currentProperty.location }}
        </p>
        <div class="property-details">
          <span><i class="fa fa-bed"></i> {{ currentProperty.bedrooms }} bed</span>
          <span><i class="fa fa-bath"></i> {{ currentProperty.bathrooms }} bath</span>
          <span><i class="fa fa-ruler-combined"></i> {{ currentProperty.squareFeet }} sq ft</span>
        </div>
        <p class="property-description">{{ currentProperty.description | slice:0:100 }}...</p>
        <button class="view-details-btn" (click)="viewPropertyDetails()">View Details</button>
      </div>
    </div>
  </div>

  <div *ngIf="!loading && !error && currentProperty" class="swipe-actions">
    <button class="swipe-btn swipe-left-btn" (click)="swipeLeft()">
      <i class="fa fa-times"></i>
    </button>
    <button class="swipe-btn swipe-right-btn" (click)="swipeRight()">
      <i class="fa fa-heart"></i>
    </button>
  </div>

  <div class="swipe-progress" *ngIf="properties.length > 0">
    <span>{{ currentPropertyIndex + 1 }} of {{ properties.length }}</span>
  </div>
</div>
